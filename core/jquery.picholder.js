// Generated by CoffeeScript 1.4.0
(function() {

  (function($, window, document) {
    var Plugin, defaults, pluginName;
    pluginName = "picholder";
    defaults = {
      service: 'fpoimg',
      height: 200,
      width: 400,
      image_size_keyword: null,
      greyscale: false,
      image_format: 'jpg',
      text: null,
      text_color: null,
      background_color: null,
      category: null,
      variant: 1
    };
    Plugin = (function() {

      function Plugin(element, options) {
        this.element = element;
        this.options = $.extend({}, defaults, options);
        this.$container = $(element);
        this.parseOptions();
        this.init();
      }

      Plugin.prototype.parseOptions = function() {
        var height, width;
        height = this.options.height;
        width = this.options.width;
        if (!(height >= 1)) {
          this.options.height = this.$container.height();
        }
        if (!(width >= 1)) {
          return this.options.width = this.$container.width();
        }
      };

      Plugin.prototype.init = function() {
        var $img, url;
        url = this.generateUrl();
        $img = $('<img src="' + url + '" />');
        return this.$container.append($img);
      };

      Plugin.prototype.generateUrl = function() {
        var background_color, category, greyscale, height, image_format, image_size_keyword, service, text, text_color, url, variant, width;
        service = this.options.service;
        height = this.options.height;
        width = this.options.width;
        greyscale = this.options.greyscale;
        category = this.options.category;
        image_format = this.options.image_format;
        text = this.options.text;
        text_color = this.options.text_color;
        background_color = this.options.background_color;
        variant = this.options.variant;
        image_size_keyword = this.options.image_size_keyword;
        url = 'http://www.';
        switch (service) {
          case 'placehold.it':
            url += 'placehold.it/' + width + 'x' + height;
            if (background_color) {
              url += '/' + background_color;
            }
            if (text_color) {
              url += '/' + text_color;
            }
            url += image_format;
            if (text) {
              url += '&text=' + text;
            }
            break;
          case 'placekitten':
            url += 'placekitten.com/';
            if (greyscale) {
              url += 'g/';
            }
            url += width + '/' + height;
            break;
          case 'placesheen':
            url += 'placesheen.com/' + width + '/' + height;
            break;
          case 'lorempixel':
            url += 'lorempixel.com/';
            if (greyscale) {
              url += 'g/';
            }
            url += width + '/' + height;
            if (category) {
              url += '/' + category;
            }
            if (variant) {
              url += '/' + variant;
            }
            if (text) {
              url += '/' + text;
            }
            break;
          case 'placedog':
            url += 'placedog.com/';
            if (greyscale) {
              url += 'g/';
            }
            url += width + '/' + height;
            break;
          case 'dummyimage':
            url += 'dummyimage.com/';
            if (image_size_keyword) {
              url += image_size_keyword;
            } else {
              url += width + 'x' + height;
            }
            if (background_color) {
              url += '/' + background_color;
            }
            if (text_color) {
              url += '/' + text_color;
            }
            url += image_format;
            if (text) {
              url += '&text=' + text;
            }
            break;
          case 'instasrc':
            url += 'instasrc.com/';
            url += width + '/' + height;
            if (category) {
              url += '/' + category;
            }
            if (greyscale) {
              url += '/greyscale';
            }
            break;
          case 'nosrc':
            url += 'nosrc.net/';
            url += width + 'x' + height;
            break;
          case 'fpoimg':
            url += 'fpoimg.com/';
            url += width + 'x' + height + '?';
            if (text) {
              url += '&text=' + text;
            }
            if (background_color) {
              url += '&bg_color=' + background_color;
            }
            if (text_color) {
              url += '&text_color=' + text_color;
            }
        }
        return url;
      };

      return Plugin;

    })();
    return $.fn[pluginName] = function(options) {
      return this.each(function() {
        return $.data(this, "plugin_" + pluginName, new Plugin(this, options));
      });
    };
  })(jQuery, window, document);

}).call(this);
